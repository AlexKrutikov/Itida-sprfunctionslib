АдресСервераСМС = "https://api.infosmska.ru/interfaces/SendMessages.ashx";
АдресРесурса = "?login=<login>&pwd=<password>&phones=<phones>&message=<message>&sender=<sender>";

IF (TYPE("_ИНФОСМСЛОГИН") == "C")
	ЛОГИН = _ИНФОСМСЛОГИН;
ELSE
{
	СООБЩЕНИЕ("Необходимо создать константу _ИНФОСМСЛОГИН и указать в ней логин от аккаунта ИНФОСМС");
	RETURN false;
}

IF (ПУСТО(ЛОГИН))
{
	СООБЩЕНИЕ("Не указан логин для аккаунта ИНФОСМС (Константа _ИНФОСМСЛОГИН)");
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<login>",ЛОГИН);
}

IF (TYPE("_ИНФОСМСПАРОЛЬ") == "C")
	ПАРОЛЬ = _ИНФОСМСПАРОЛЬ;
ELSE
{
	СООБЩЕНИЕ("Необходимо создать константу _ИНФОСМСПАРОЛЬ и указать в ней пароль от аккаунта ИНФОСМС");
	RETURN false;
}
	
IF (ПУСТО(ПАРОЛЬ))
{
	СООБЩЕНИЕ("Не указан пароль для аккаунта ИНФОСМС (Константа _ИНФОСМСПАРОЛЬ)");
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<password>",ПАРОЛЬ);
}

IF (ПУСТО(НОМЕРАКЛИЕНТОВ))
{
	СООБЩЕНИЕ("Не указаны адреса для отправки СМС");
	RETURN false;
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<phones>",НОМЕРАКЛИЕНТОВ);
}

IF (ПУСТО(ТЕКСТСООБЩЕНИЯ))
{
	СООБЩЕНИЕ("Не указан текст сообщения для отправки");
	RETURN false;
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<message>", ТЕКСТСООБЩЕНИЯ);
}

ИМЯОТПРАВИТЕЛЯ = "";
IF (TYPE("_ИНФОСМСИМЯОТПРАВИТЕЛЯ") == "C")
	ИМЯОТПРАВИТЕЛЯ = _ИНФОСМСИМЯОТПРАВИТЕЛЯ;
	
//если не указан отправитель, то не заполняем данный параметр
IF (ПУСТО(ИМЯОТПРАВИТЕЛЯ))
	АдресРесурса = STRTRANC(АдресРесурса,"<sender>","SMS");
ELSE
	АдресРесурса = STRTRANC(АдресРесурса,"<sender>",ИМЯОТПРАВИТЕЛЯ);

ОТВЕТ = ITIDASENDER.ИНФОСМС_HTTPGET(АдресСервераСМС, АдресРесурса, "");

IF (!ПУСТО(ОТВЕТ))
	RETURN true;
ELSE
	RETURN false;
