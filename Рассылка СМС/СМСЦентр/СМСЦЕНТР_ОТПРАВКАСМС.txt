АдресСервераСМС = "https://smsc.ru";
АдресРесурса = "sys/send.php?login=<login>&psw=<password>&phones=<phones>&mes=<message>&sender=<sender>&time=<time>";

IF (TYPE("_СМСЦЕНТРЛОГИН") == "C")
	ЛОГИН = _СМСЦЕНТРЛОГИН;
ELSE
{
	СООБЩЕНИЕ("Необходимо создать константу _СМСЦЕНТРЛОГИН и указать в ней логин от аккаунта SMSC");
	RETURN false;
}

IF (ПУСТО(ЛОГИН))
{
	СООБЩЕНИЕ("Не указан логин для аккаунта SMSC (Константа _СМСЦЕНТРЛОГИН)");
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<login>",ЛОГИН);
}

IF (TYPE("_СМСЦЕНТРПАРОЛЬ") == "C")
	ПАРОЛЬ = _СМСЦЕНТРПАРОЛЬ;
ELSE
{
	СООБЩЕНИЕ("Необходимо создать константу _СМСЦЕНТРПАРОЛЬ и указать в ней пароль от аккаунта SMSC");
	RETURN false;
}
	
IF (ПУСТО(ПАРОЛЬ))
{
	СООБЩЕНИЕ("Не указан пароль для аккаунта SMSC (Константа _СМСЦЕНТРПАРОЛЬ)");
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<password>",ПАРОЛЬ);
}

IF (ПУСТО(НОМЕРАКЛИЕНТОВ))
{
	СООБЩЕНИЕ("Не указаны адреса для отправки СМС");
	RETURN false;
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<phones>",НОМЕРАКЛИЕНТОВ);
}

IF (ПУСТО(ТЕКСТСООБЩЕНИЯ))
{
	СООБЩЕНИЕ("Не указан текст сообщения для отправки");
	RETURN false;
}
ELSE
{
	АдресРесурса = STRTRANC(АдресРесурса,"<message>", ТЕКСТСООБЩЕНИЯ);
}

ИМЯОТПРАВИТЕЛЯ = "";
IF (TYPE("_СМСЦЕНТРИМЯОТПРАВИТЕЛЯ") == "C")
	ИМЯОТПРАВИТЕЛЯ = _СМСЦЕНТРИМЯОТПРАВИТЕЛЯ;
	
//если не указан отправитель, то не заполняем данный параметр
IF (ПУСТО(ИМЯОТПРАВИТЕЛЯ))
	АдресРесурса = STRTRANC(АдресРесурса,"&sender=<sender>","");
ELSE
	АдресРесурса = STRTRANC(АдресРесурса,"<sender>",ИМЯОТПРАВИТЕЛЯ);
	
/*
Время отправки SMS-сообщения абоненту.
Форматы:
1. DDMMYYhhmm или DD.MM.YY hh:mm.
2. h1-h2. Задает диапазон времени в часах. Если текущее время меньше h1, то SMS-сообщение будет отправлено абоненту при наступлении времени h1, если текущее время попадает в промежуток от h1 до h2, то сообщение будет отправлено немедленно, в другом случае отправка будет выполнена на следующий день при достижении времени h1. Данная функция, например, полезна для того, чтобы не допустить получение SMS-сообщений абонентами в ночное время.
3. 0ts, где ts – timestamp, время в секундах, прошедшее с 1 января 1970 года.
4. +m. Задает относительное смещение времени от текущего в минутах. Символ + должен кодироваться как %2B в http-запросе.
Если time = 0 или указано уже прошедшее время, то сообщение будет отправлено немедленно.
*/
ВРЕМЯОТПРАВКИСООБЩЕНИЯ = 0; //немедленная отправка
АдресРесурса = STRTRANC(АдресРесурса,"<time>",ВРЕМЯОТПРАВКИСООБЩЕНИЯ);

ОТВЕТ = ITIDASENDER.СМСЦЕНТР_HTTPPOST(АдресСервераСМС, АдресРесурса, "");

IF (!ПУСТО(ОТВЕТ))
	RETURN true;
ELSE
	RETURN false;
