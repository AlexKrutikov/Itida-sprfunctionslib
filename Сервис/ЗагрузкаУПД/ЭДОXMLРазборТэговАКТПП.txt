// Функция разбора XML файла с актом выполненных работIF ( ТипТэга == "ТЭГ" AND !ФлагЗакрытия ){		IF ( UPPER( ALLTRIM( Имя ) ) == "СВУЧДОКОБОР" )	{		Состояние				= "СвУчДокОбор";		ТекущийОбъект			= "";		ПродавецЭДОИД			= "";		ПолучательЭДОИД			= "";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "СВДОКПРУ" )	{		Состояние				= "СвСчФакт";		ТекущийОбъект			= "";		Номер 					= "";		Дата 					= {};		ПродавецНаименование 	= "";		ПродавецИНН 			= "";		ПродавецКПП 			= "";		ПродавецАдрес 			= "";		ПродавецСчет 			= "";		ПродавецБанк 			= "";		Грузополучатель			= "";		ГрузополучательКПП		= "";		ПолучательНаименование 	= "";		ПолучательИНН 			= "";		ПолучательКПП 			= "";		Сумма 					= 0.00;		СуммаБезНДС				= 0.00;	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "СТОРОНА2" )	{		Состояние				= "СвПрод";		ТекущийОбъект			= "Продавец";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "СТОРОНА1" )	{		Состояние				= "СвПокуп";		ТекущийОбъект			= "Покупатель";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "ГРУЗПОЛУЧ" )	{		Состояние				= "ГрузПолуч";		ТекущийОбъект			= "Грузополучатель";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "ИДСВ" )		Состояние				= "ИдСв";	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "АДРЕС" )		Состояние				= "Адрес";	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "БАНКРЕКВ" )		Состояние				= "БАНКРЕКВ";	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "СВЕДТАБЛ" )	{		НомерСтроки 			= 0;		НаименованиеТовара 		= "";		Единица 				= "";		ОКЕИ 					= "";		Налог					= 0.00;		Количество 				= 0.00;		Сумма 					= 0.00;		СуммаБезНДС				= 0.00;		ШтрихКод 				= "";		Состояние				= "";		ТекущийОбъект			= "Товар";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "ИНФПОЛФХЖ1" )		Состояние				= "ИНФПОЛФХЖ1";}IF ( ТипТэга == "ТЭГ" AND ФлагЗакрытия ){	IF ( UPPER( ALLTRIM( Имя ) ) == "СВЕДДОК" )	{		ДОБАВИТЬСТРОКИ( 1, "Документ" );		ИЗМЕНИТЬПОЛЕ( "Документ", "Номер", Номер );		ИЗМЕНИТЬПОЛЕ( "Документ", "Дата", Дата );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПродавецНаименование", ПродавецНаименование );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПродавецИНН", ПродавецИНН );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПродавецКПП", ПродавецКПП );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПродавецАдрес", ПродавецАдрес );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПродавецСчет", ПродавецСчет );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПродавецБанк", ПродавецБанк );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПродавецЭДОИД", ПродавецЭДОИД );		ИЗМЕНИТЬПОЛЕ( "Документ", "Грузополучатель", Грузополучатель );		ИЗМЕНИТЬПОЛЕ( "Документ", "ГрузополучательКПП", ГрузополучательКПП );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПолучательНаименование", ПолучательНаименование );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПолучательИНН", ПолучательИНН );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПолучательКПП", ПолучательКПП );		ИЗМЕНИТЬПОЛЕ( "Документ", "ПолучательЭДОИД", ПолучательЭДОИД );		ИЗМЕНИТЬПОЛЕ( "Документ", "Сумма", Сумма );		ИЗМЕНИТЬПОЛЕ( "Документ", "СуммаБезНДС", СуммаБезНДС );				Состояние				= "";		ТекущийОбъект			= "";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "СТОРОНА1" )	{		Состояние				= "";		ТекущийОбъект			= "";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "СТОРОНА2" )	{		Состояние				= "";		ТекущийОбъект			= "";	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "СВЕДТАБЛ" )	{		ДОБАВИТЬСТРОКИ( 1, "СтрокиДокумента" );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "НомерСтроки", НомерСтроки );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "НаименованиеТовара", НаименованиеТовара );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "Единица", Единица );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "ОКЕИ", ОКЕИ );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "Количество", Количество );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "Сумма", Сумма );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "СуммаБезНДС", СуммаБезНДС );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "ШтрихКод", ШтрихКод );		ИЗМЕНИТЬПОЛЕ( "СтрокиДокумента", "Налог", Налог );		Состояние				= "";		ТекущийОбъект			= "";	}}ELSE IF ( ТипТэга == "АТРИБУТ" ){	IF ( UPPER( ALLTRIM( Имя ) ) == "ИДОТПР" AND Состояние == "СвУчДокОбор" )		ПродавецЭДОИД			= Значение;	ELSE IF ( ( UPPER( ALLTRIM( Имя ) ) == "ИДПОЛ" OR UPPER( ALLTRIM( Имя ) ) == "ИДПОК" ) AND Состояние == "СвУчДокОбор" )		ПолучательЭДОИД			= Значение;	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "НОМЕРДОК" )		Номер					= Значение;	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "ДАТАДОК" )		Дата					= CTOD( Значение );	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "НАИМОРГ" )	{		IF ( ТекущийОбъект == "Продавец" ) 			ПродавецНаименование	= Значение;		ELSE IF ( ТекущийОбъект == "Покупатель" ) 			ПолучательНаименование	= Значение;	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "ФАМИЛИЯ" OR UPPER( ALLTRIM( Имя ) ) == "ИМЯ" OR UPPER( ALLTRIM( Имя ) ) == "ОТЧЕСТВО" )	{		IF ( ТекущийОбъект == "Продавец" ) 			ПродавецНаименование	+= ЕСЛИ( !ПУСТО( ПродавецНаименование ), " ", "" ) + Значение;		ELSE IF ( ТекущийОбъект == "Покупатель" ) 			ПолучательНаименование	+= ЕСЛИ( !ПУСТО( ПолучательНаименование ), " ", "" ) + Значение;	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "ИННЮЛ" OR UPPER( ALLTRIM( Имя ) ) == "ИННФЛ" )	{		IF ( ТекущийОбъект == "Продавец" ) 			ПродавецИНН				= Значение;		ELSE IF ( ТекущийОбъект == "Покупатель" ) 			ПолучательИНН			= Значение;	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) == "КПП" )	{		IF ( ТекущийОбъект == "Продавец" ) 			ПродавецКПП				= Значение;		ELSE IF ( ТекущийОбъект == "Покупатель" ) 			ПолучательКПП			= Значение;		ELSE IF ( ТекущийОбъект == "Грузополучатель" ) 			ГрузополучательКПП		= Значение;	}	ELSE IF ( ВСПИСКЕ( UPPER( ALLTRIM( Имя ) ), "ИНДЕКС", "КОДРЕГИОН", "РАЙОН", "ГОРОД", "НАСЕЛЕННЫЙПУНКТ", "УЛИЦА", "ДОМ", "КОРПУС", "КВАРТИРА" ) )	{		IF ( ТекущийОбъект == "Продавец" ) 			ПродавецАдрес			+= ЕСЛИ( !ПУСТО( ПродавецАдрес ), ",", "" )	+ Значение;		IF ( ТекущийОбъект == "Грузополучатель" ) 			Грузополучатель			+= ЕСЛИ( !ПУСТО( Грузополучатель ), ",", "" )	+ Значение;	}	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "НОМЕРСЧЕТА" AND ТекущийОбъект == "Продавец" )		ПродавецСчет				= Значение;	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "БИК" AND ТекущийОбъект == "Продавец" )		ПродавецБанк				= Значение; 	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "СТУЧНДСВС" )		Сумма						= VAL( Значение );	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "СТБЕЗНДСВС" )		СуммаБезНДС					= VAL( Значение );	ELSE IF ( ВСПИСКЕ( UPPER( ALLTRIM( Имя ) ), "НОМСТР", "НОМТОВ", "НОМЕР" ) AND ТекущийОбъект == "Товар" )		НомерСтроки					= VAL( Значение );	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "НАИМПП" AND ТекущийОбъект == "Товар" )		НаименованиеТовара			= Значение;	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "ОКЕИ" AND ТекущийОбъект == "Товар" )		ОКЕИ						= Значение;	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "НАЛСТ" AND ТекущийОбъект == "Товар" )		Налог						= VAL( Значение );	ELSE IF ( ВСПИСКЕ( UPPER( ALLTRIM( Имя ) ), "КОЛТОВ", "КОЛМЕСТ", "КОЛИЧЕСТВО", "КОЛПП" ) AND ТекущийОбъект == "Товар" )		Количество 					= VAL( Значение );	ELSE IF ( ВСПИСКЕ( UPPER( ALLTRIM( Имя ) ), "СТУЧНДС", "СТОИМУЧНДС", "СТОИМ" ) AND ТекущийОбъект == "Товар" )		Сумма	 					= VAL( Значение );	ELSE IF ( ВСПИСКЕ( UPPER( ALLTRIM( Имя ) ), "СТБЕЗНДС", "СТОИМБЕЗНДС", "СТОИМБЕЗНДС" ) AND ТекущийОбъект == "Товар" )		СуммаБезНДС					= VAL( Значение );	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "НАИМЕДИЗМ" AND ТекущийОбъект == "Товар" )		Единица 					= Значение;	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "ИДЕНТИФ" AND ТекущийОбъект == "Товар" AND Состояние == "ИНФПОЛФХЖ2" AND ВСПИСКЕ( UPPER( ALLTRIM( Значение ) ), "ШТРИХКОД", "ДЛЯ1С_ШТРИХКОД" ) )		Состояние 					= "ШТРИХКОД";	ELSE IF ( UPPER( ALLTRIM( Имя ) ) ==  "ЗНАЧЕН" AND ТекущийОбъект == "Товар" AND Состояние == "ШТРИХКОД" )		ШтрихКод 					= Значение;}
