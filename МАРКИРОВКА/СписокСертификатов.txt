IF ( !ВЫБРАТЬКОНТЕКСТ( "КриптографическиеСертификаты" ) ){	IF ( !СПИСОКСЕРТИФИКАТОВ( "КриптографическиеСертификаты", _МАРКИРОВКА_ХРАНИЛИЩЕСЕРТИФИКАТОВ ) ) RETURN "";		ВЫБРАТЬКОНТЕКСТ( "КриптографическиеСертификаты" );	ПЕРЕЙТИВНАЧАЛО( "КриптографическиеСертификаты" );	WHILE ( !КОНЕЦКОНТЕКСТА( "КриптографическиеСертификаты" ) )	{		mIssuer			= ПОЛУЧИТЬСЛОВОПС( КриптографическиеСертификаты.issuer + CHR( 13 ), "SN=", CHR( 13 ) );		mIssuer			+= ЕСЛИ( ПУСТО( mIssuer ), "", " / " ) + ПОЛУЧИТЬСЛОВОПС( КриптографическиеСертификаты.issuer + CHR( 13 ), "CN=", CHR( 13 ) );		IF ( ПУСТО( mIssuer ) )			mIssuer		= КриптографическиеСертификаты.issuer;		mSubject		= ПОЛУЧИТЬСЛОВОПС( КриптографическиеСертификаты.subject + CHR( 13 ), "SN=", CHR( 13 ) );		mSubject		+= ЕСЛИ( ПУСТО( mSubject ), "", " / " ) + ПОЛУЧИТЬСЛОВОПС( КриптографическиеСертификаты.subject + CHR( 13 ), "CN=", CHR( 13 ) );		IF ( ПУСТО( mSubject ) )			mSubject	= КриптографическиеСертификаты.subject;				ИЗМЕНИТЬПОЛЕ( "КриптографическиеСертификаты", "subject", mSubject );		ИЗМЕНИТЬПОЛЕ( "КриптографическиеСертификаты", "issuer", mIssuer );		IF ( ПУСТО( КриптографическиеСертификаты.name ) )			ИЗМЕНИТЬПОЛЕ( "КриптографическиеСертификаты", "name", mSubject );					ИЗМЕНИТЬПОЛЕ( "КриптографическиеСертификаты", "name", ЗАМЕНИТЬ( КриптографическиеСертификаты.name, ",", " " ) );		ИЗМЕНИТЬПОЛЕ( "КриптографическиеСертификаты", "subject", ЗАМЕНИТЬ( КриптографическиеСертификаты.subject, ",", " " ) );		ИЗМЕНИТЬПОЛЕ( "КриптографическиеСертификаты", "issuer", ЗАМЕНИТЬ( КриптографическиеСертификаты.issuer, ",", " " ) );				ПРОПУСТИТЬ( 1, "КриптографическиеСертификаты" );	}}Список					= "";ВЫБРАТЬКОНТЕКСТ( "КриптографическиеСертификаты" );ПЕРЕЙТИВНАЧАЛО( "КриптографическиеСертификаты" );WHILE ( !КОНЕЦКОНТЕКСТА( "КриптографическиеСертификаты" ) ){	Период			= "c " + DTOC( КриптографическиеСертификаты.notbefore ) + " по " + DTOC( КриптографическиеСертификаты.notafter );	Список			+= "code=" + КриптографическиеСертификаты.certid + ";name=" + КриптографическиеСертификаты.issuer + ";subject=" + КриптографическиеСертификаты.subject + ";period=" + Период + ";";	ПРОПУСТИТЬ( 1, "КриптографическиеСертификаты" );}RETURN Список;
