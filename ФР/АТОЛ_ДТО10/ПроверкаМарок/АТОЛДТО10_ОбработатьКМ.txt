IF ( ПУСТО(ШТРИХКОДМАРКИРОВКИ) OR LEN(ШТРИХКОДМАРКИРОВКИ) <= 13 )
	RETURN false;

РезультатПроверкиСведенийОКМ  = "";
	
IF ( !ФР.АТОЛДТО10_ПроверитьКМ( ФР.КОДОБОРУДОВАНИЯ(), false, ШТРИХКОДМАРКИРОВКИ, "", @РезультатПроверкиСведенийОКМ ) )
	RETURN false;

//проверим существование контекста с результатами проверок и, если нет констекста, создадим его
IF ( !ВЫБРАТЬКОНТЕКСТ( "РезультатыОбработкиКМ" ) )
	IF ( !ДОБАВИТЬКОНТЕКСТ( "LOCAL: ШтрихкодМаркировки text, Результат text", "РезультатыОбработкиКМ" ) ) 
	{
		СООБЩЕНИЕ("Не удалось сохранить результаты проверки кода маркировки");
		RETURN false;
	}

//сохраним результаты проверки в контекст
ДОБАВИТЬСТРОКИ( 1, "РезультатыОбработкиКМ" );
ИЗМЕНИТЬПОЛЕ( "РезультатыОбработкиКМ", "Штрихкод", ALLTRIM(ШТРИХКОДМАРКИРОВКИ) );
ИЗМЕНИТЬПОЛЕ( "РезультатыОбработкиКМ", "Результат", РезультатПроверкиСведенийОКМ );
	
RETURN true;
