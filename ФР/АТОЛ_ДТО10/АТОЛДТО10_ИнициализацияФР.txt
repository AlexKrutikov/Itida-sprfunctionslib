PUBLIC ИНДЕКСУСТРОЙСТВАККМ, _ИМЯКАССИРА, _ТИПДОКУМЕНТАОСНОВАНИЯ, _ИДДОКУМЕНТАОСНОВАНИЯ, _ПЕЧАТАТЬНАЛОГИ, _ПЕЧАТАТЬСКИДКИ, _ОПРЕДЕЛЯТЬКОДЫНАЛОГОВ, ФискальныйЧек, _КРИТИЧНЫЙВОЗРАСТБУФЕРАЧЕКОВ, ФРКОДОБОРУДОВАНИЯ;
PUBLIC ВСЕГОБЕЗНАЛ, ВСЕГОНАЛ, ВСЕГОКРЕДИТ, ВСЕГОСЕРТИФИКАТЫ, ВСЕГОПРОЧАЯОПЛАТА;
PUBLIC ККТ_КодВидаОплатыНаличные, ККТ_КодВидаОплатыБезналичные, ККТ_КодВидаОплатыПредоплата, ККТ_КодВидаОплатыКредит, ККТ_КодВидаОплатыПрочее;
PUBLIC _СТАВКАНДС_БЕЗНДС, НомерЧекаККМ, НомерСменыККМ, _ОТДЕЛЬНЫЙСЛИПЕГАИС, _ВАРИАНТВЫВОДАШКЕГАИС, _КОЭФФИЦИЕНТУВЕЛИЧЕНИЯШКЕГАИС, _КОЛИЧЕСТВОСИМВОЛОВЧЕКОВОЙЛЕНТЫ, _ШИРИНАШКЕГАИС, _ШРИФТТЕКСТАДЛЯНЕФИСКАЛЬНОЙПЕЧАТИ;
PUBLIC _КОНТРОЛИРОВАТЬРАСХОЖДЕНИЕДАТЫВРЕМЕНИ, _ДОПУСТИМОЕРАСХОЖДЕНИЕВРЕМЕНИККМ, _ДОПУСТИМАЯРАЗНИЦАМИНУТДЛЯСИНХРОНИЗАЦИИ, _РАБОТАСЕГАИС, _ККТ_ШИРИНА_ЛЕНТЫ, _СУММАСКИДКИВСЕГО;
PUBLIC ИмяТаблицыСтрокЧека, _ПЕЧАТАТЬСКИДКИ, ТекстЧека, _ВСЕГОСКИДКАНАЧЕК, _ВСЕГООПЛАТАБОНУСАМИ, ВерсияФФД;
PUBLIC _КОЛИЧЕСТВОКОПИЙСЛИПА, _БАКОВСКИЙСЛИПВМЕСТЕСЧЕКОМ, НомерЛУПлатежнойСистемы, TerminalNumber, ЕстьНеявныеОшибкиПС, БанковскиеПозицииЧека, ИДТЕРМИНАЛАИЗПРОФИЛЯ, _ККТСУММАБЕЗНАЛ;

//СЛУЖЕБНЫЕ ПЕРЕМЕННЫЕ - НАЧАЛО
//массив для хранения созданных объектов драйвера
_МАССИВККТ[ VAL( ФР.КОДОБОРУДОВАНИЯ() ) ] = CreateObject( "AddIn.Fptr10", 1 );

//Запоминаем номер устройства
ИНДЕКСУСТРОЙСТВАККМ				= НомерУстройства - 1;
_ОПРЕДЕЛЯТЬКОДЫНАЛОГОВ			= false; //по умолчанию НЕ будем определять коды налогов из доп. кодов справочника "Коды налогов".
_ПЕЧАТАТЬНАЛОГИ					= true;
_РАБОТАСЕГАИС					= true; //признак необходимости печати слипов ЕГАИС, true - печатать, false - не печатать (для исключительных ситуаций)
_ПЕЧАТАТЬСКИДКИ					= true;		
		
//Коды видов оплат в ККМ
ККТ_КодВидаОплатыНаличные		= "cash";
ККТ_КодВидаОплатыБезналичные	= "electronically";
ККТ_КодВидаОплатыПредоплата		= "prepaid";
ККТ_КодВидаОплатыКредит			= "credit";
ККТ_КодВидаОплатыПрочее			= "other";

НомерЧекаККМ					= 0;
НомерСменыККМ					= 0;
_КРИТИЧНЫЙВОЗРАСТБУФЕРАЧЕКОВ	= 14; //количество дней возраста буфера чеков в ФН, который считается критичным и требует внимания пользователя (будет выведено сообщение)
//СЛУЖЕБНЫЕ ПЕРЕМЕННЫЕ - КОНЕЦ

//ПОЛЬЗОВАТЕЛЬСКИЕ ПЕРЕМЕННЫЕ - НАЧАЛО
//
//!!!ПОСЛЕ ИЗМЕНЕНИЯ ЗНАЧЕНИЙ ПЕРЕМЕННЫХ ТРЕБУЕТСЯ ПЕРЕЗАПУСТИТЬ АЙТИДУ ДЛЯ ВСТУПЛЕНИЯ ИЗМЕНЕНИЙ В СИЛУ
//
//переменные для оптимизации используемого пространства на чековой ленте при печати слипов ЕГАИС и для экономии чековой ленты
//возможен вариант совмещенной печати слипа ЕГАИС вместе с кассовым чеком

_ОТДЕЛЬНЫЙСЛИПЕГАИС 			= false;	// признак необходимости печати слипа ЕГАИС отдельно от кассового чека. 
											//Значения: true - Слип ЕГАИС печатается как отдельный нефискальный чек
											//			false - Слип ЕГАИС печатается вместе с кассовым чеком
											//
_ВАРИАНТВЫВОДАШКЕГАИС 			= 2;		//Вариант вывода QR-кода ЕГАИС на чеке. 
											//Значения:
											//			Вариант 1 - стандартно - (QR по центру, ссылка и цифровая подпись под ним снизу)
											//			Вариант 2 - с оверлеем (ссылка слева, QR - справа, цифровая подпись - снизу) 
											//!!!ВНИМАНИЕ. При использовании варианта = 2, чтобы QR не перекрывал ссылку, требуется тонкая подстройка значений следующих параметров:
											//				_КОЭФФИЦИЕНТУВЕЛИЧЕНИЯШКЕГАИС, _ШИРИНАШКЕГАИС, _КОЛИЧЕСТВОСИМВОЛОВЧЕКОВОЙЛЕНТЫ,  
								
_КОЭФФИЦИЕНТУВЕЛИЧЕНИЯШКЕГАИС	= 4; 		//Коэффициент увеличения QR ЕГАИС. По умолчанию равно 4. Для данного значения коэффициента ширина QR Егаис составляет 13 символов.
											//При изменении значения коэффициента и использования _ВАРИАНТВЫВОДАШКЕГАИС равного 2 требуется ручная подгонка параметров, указанных в описании параметра _ВАРИАНТВЫВОДАШКЕГАИС. 
										
_КОЛИЧЕСТВОСИМВОЛОВЧЕКОВОЙЛЕНТЫ = 32;		//Количество символов в строке, помещающееся на чековой ленте. Как правило для 57 ленты равно 32-36 символов, для 80й ленты - 48-64 символов (в зависимости от используемого шрифта).
											//Данный параметр используется для вывода ШК ЕГАИС с оверлеем (_ВАРИАНТВЫВОДАШКЕГАИС = 2: ШК справа, ссылка слева)
											//ВАЖНО!!! - Данный параметр будет автоматически подстраиваться под используемую модель ККТ посредством выполнения обработки "ШиринаЛенты" данного профиля.
										
_ШИРИНАШКЕГАИС = 13;						//Количество символов строки, занимаемое QR-кодом ЕГАИС. Данный параметр расчитан экспериментальным путем для коэффициента увеличения QR ЕГАИС равным 4.
											//Требует корректировки только при _ВАРИАНТВЫВОДАШКЕГАИС = 2 и изменении _КОЭФФИЦИЕНТУВЕЛИЧЕНИЯШКЕГАИС на значение не равное стандартному (4).
										
_ШРИФТТЕКСТАДЛЯНЕФИСКАЛЬНОЙПЕЧАТИ = 0; 		//Номер Шрифта ККМ для печати нефискальных (текстовых) строк. По умолчанию имеет значение равное 0, что соответствует шрифту, настроенному в параметрах ККМ.
											//ВНИМАНИЕ!!! Изменение номера шрифта для нефискальной печати влияет на любую нефискальную печать профилем (слип ЕГАИС, банковские слипы, нефискальные строки в чеке)
											//При изменении номера шрифта на значение отличное от значения по умолчанию 0, требутеся корректировка значения переменной _ШИРИНАШКЕГАИС, если _ВАРИАНТВЫВОДАШКЕГАИС равен 2 
//Прочие переменные
_КОНТРОЛИРОВАТЬРАСХОЖДЕНИЕДАТЫВРЕМЕНИ = true;	//Переменная отвечает за необходимость контроля при открытии смены расхождения даты и времени в ККМ с датой и временем в ПК. 
												//Если расхождение больше чем на _ДОПУСТИМОЕРАСХОЖДЕНИЕВРЕМЕНИККМ минут и меньше чем _ДОПУСТИМАЯРАЗНИЦАМИНУТДЛЯСИНХРОНИЗАЦИИ, то будет выведен запрос пользователю о синхронизации даты и времени
												//	Значения: true - контроль даты и времени включен, false - контроль выключен
_ДОПУСТИМОЕРАСХОЖДЕНИЕВРЕМЕНИККМ = 3;		//Допустимое количество минут расхождения даты и времени. Значение по умолчания равно 3 минутам. 
											//Разница времени с ККМ меньшая указанного количества минут считается нормальной и изменение даты/времени не осуществляется
_ДОПУСТИМАЯРАЗНИЦАМИНУТДЛЯСИНХРОНИЗАЦИИ = 70; //Допустимое максимальное количество минут расхождения даты и времени при котором будет выполняться синхронизация. Если разница во времени превышает указанное значение, 
											  //то выполнение синхронизации прерывается и требуется ручное изменение даты и времени. Параметр добавлен с целью избежать ситуаций когда в ПК слетает дата или 

/*//выставляется будущим времением и синхронизация с такой датой и временем может привести ККТ в неработоспособное состояние на очень большой период времени.
IF ( ТИП("_ВЫВОДИТЬИНФОРМАЦИЮОБОНУСАХНАЧЕКЕ" ) == "U" )
	_ВЫВОДИТЬИНФОРМАЦИЮОБОНУСАХНАЧЕКЕ = false;	//Необходимость вывода информации о начисленных и списанных бонусных баллах на чеке, а так же остаток бонусов. true - выводить, false - не выводить
												//Работает на версии 4.0.6 и выше, при использовании стандартной бонусной системы
IF ( ТИП( "_ВЫВОДИТЬИТОГОВУЮСКИДКУНАЧЕКЕ" ) == "U" )
	_ВЫВОДИТЬИТОГОВУЮСКИДКУНАЧЕКЕ = true;
*/
//ПОЛЬЗОВАТЕЛЬСКИЕ ПЕРЕМЕННЫЕ - КОНЕЦ

//ПЕРЕМЕННЫЕ ДЛЯ ПЛАТЕЖНОЙ СИСТЕМЫ - НАЧАЛО
ИДТЕРМИНАЛАИЗПРОФИЛЯ		= true; //признак того что при банковских операциях ИД терминала будет подставляться из переменной TerminalNumber, а не из драйвера. Если false - то будет браться из драйвера.
НомерЛУПлатежнойСистемы		= 1; //номер логического устройства в драйвере ПС Атол
TerminalNumber				= 1; // Номер платежного терминала в драйвере
_КОЛИЧЕСТВОКОПИЙСЛИПА		= 2; //число копий банковских слипов (по умолчанию 2)
_БАКОВСКИЙСЛИПВМЕСТЕСЧЕКОМ	= true; //признак необходимости печати банковского слипа вместе с кассовым чеком. 
									//		Значения: true - слип печатается вместе с кассовым чеком, false - слип печатается отдельным нефискальным чеком
									//Если _КОЛИЧЕСТВОКОПИЙСЛИПА больше чем 1, то вместе с чеком печатается только один слип, остальные печатаются как нефискальные
//ПЕРЕМЕННЫЕ ДЛЯ ПЛАТЕЖНОЙ СИСТЕМЫ - КОНЕЦ
