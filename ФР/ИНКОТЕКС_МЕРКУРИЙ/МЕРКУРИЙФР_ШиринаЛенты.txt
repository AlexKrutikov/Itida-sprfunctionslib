// Ширина ленты
// Ширина стандартная - 27 символов
ШиринаЛенты = 27;


IF ( ПЕРЕМЕННАЯ("_КОЛИЧЕСТВОСИМВОЛОВЧЕКОВОЙЛЕНТЫ", "") <> "" )
	RETURN ПЕРЕМЕННАЯ("_КОЛИЧЕСТВОСИМВОЛОВЧЕКОВОЙЛЕНТЫ", "");
	
IF ( !ФР.МЕРКУРИЙФР_ОткрытьСессию( КОДОБОРУДОВАНИЯ, "Отмена чека" ) ) RETURN false;

ОтветИнфоККТ = ФР.МЕРКУРИЙФР_ПолучениеИнформацииОККТ( );
		
IF ( !ФР.МЕРКУРИЙФР_ЗакрытьСессию( КОДОБОРУДОВАНИЯ, "Ширина ленты в ФР" ) ) RETURN ШиринаЛенты; 

ЗАГРУЗИТЬJSON( "ДанныеИнфоККТ", ПОЛЕ_JSON( ОтветИнфоККТ, "cpl", ШиринаЛенты ), "receipt_len" );

ШиринаЛенты 		= VAL( ДанныеИнфоККТ.receipt_len );

_КОЛИЧЕСТВОСИМВОЛОВЧЕКОВОЙЛЕНТЫ = ШиринаЛенты;
УДАЛИТЬКОНТЕКСТ("ДанныеИнфоККТ");

RETURN ШиринаЛенты;
