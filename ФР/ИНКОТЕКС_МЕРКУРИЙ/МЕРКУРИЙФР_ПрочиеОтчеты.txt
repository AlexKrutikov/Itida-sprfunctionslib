// Печать прочих отчетов

// Параметры - 
// ТипОтчета число целое, тип требуемого отчета
// 		Значения:	0 - гашение контрольной ленты	
//					3 - краткий фискальный отчет по диапазону дат
//					4 - краткий фискальный отчет по диапазону смен
//					5 - полный фискальный отчет по диапазону дат
//					6 - полный фискальный отчет по диапазону смен
//					7 - отчет о продажах по секциям
// 					8 - отчет о продажах по кассирам
// 					9 - отчет о продажах по товарам
// 					10 - отчет о продажах по часам
// 					11 - отчет по количеству
// 					22 - ЭКЛЗ итоги активизации
// 					23 - ЭКЛЗ итоги смены
// 					24 - ЭКЛЗ контрольная лента смены
// 					26 - ЭКЛЗ по датам краткий по отделам
// 					27 - ЭКЛЗ по датам полный по отделам
// 					28 - ЭКЛЗ по датам краткий по итогам смен
// 					29 - ЭКЛЗ по датам полный по итогам смен
// 					30 - ЭКЛЗ по сменам краткий по отделам
// 					31 - ЭКЛЗ по сменам полный по отделам
// 					32 - ЭКЛЗ по сменам краткий по итогам
// 					33 - ЭКЛЗ по сменам полный по итогам
//					41 - копия последнего чека
//					42 - отчет о состоянии расчетов
//					50 - сверка итогов
//					100 - печать копии чека по номеру ФД
// Параметр - FROperatorProfile число, профиль из карточки сотрудника
Результат			= false; 
IF ( ВСПИСКЕ( ТипОтчета, 42 ) )
{
	IF ( ТипОтчета == 42 )
	{
		//получим информацию о кассире
		_ИМЯКАССИРА		= "";
		_ИННКАССИРА		= "";
		IF ( !ФР.МЕРКУРИЙФР_ПолучитьДанныеКассира(froperator, @_ИМЯКАССИРА, @_ИННКАССИРА) )
			_ИМЯКАССИРА = "Кассир";
		
		Команда = ДАННЫЕ_JSON("command", "ReportStatusOfSettlements");
		КассирИмя = ДАННЫЕ_JSON("cashierName", _ИМЯКАССИРА);
		КассирИНН = ДАННЫЕ_JSON("cashierINN", _ИННКАССИРА);

		ТекстЗапроса = "{ 
			""sessionKey"": """ + _КЛЮЧ_СЕССИИ  + """, 
			" + Команда + ", 
			""cashierInfo"": {	
				" + КассирИмя + ", 
				" + КассирИНН + " 
			} 
		}";

		ОТВЕТ = "";
		IF ( !ФР.МЕРКУРИЙФР_HTTPPOST(ФР.МЕРКУРИЙФР_АДРЕССЕРВЕРА(), "/api.json", ТекстЗапроса, "", @ОТВЕТ) )
			RETURN false;
	}
	
	
	//проверим результат
	Результат		= ФР.МЕРКУРИЙФР_ЗакрытьСессию( КОДОБОРУДОВАНИЯ, "Прочие отчеты" ); 
}
ELSE
{
	СООБЩЕНИЕ( "Отчет №" + ТипОтчета + ": Данный отчет не поддерживается профилем оборудования" );
}

RETURN Результат;
