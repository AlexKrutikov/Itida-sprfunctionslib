IF ( TYPE( "_1С_ДОГОВОРЫ_ТИПЦЕН" ) <> "C" )	_1С_ДОГОВОРЫ_ТИПЦЕН = "000000001";IF ( TYPE( "_1С_ДОГОВОРЫ_ВИДАГЕНТСКОГОДОГОВОРА" ) <> "C" )	_1С_ДОГОВОРЫ_ВИДАГЕНТСКОГОДОГОВОРА = "";IF ( TYPE( "_1С_ДОГОВОРЫ_РАСЧЕТЫВУСЛОВНЫХЕДИНИЦАХ" ) <> "C" )	_1С_ДОГОВОРЫ_РАСЧЕТЫВУСЛОВНЫХЕДИНИЦАХ = false;IF ( TYPE( "_1С_ДОГОВОРЫ_РЕАЛИЗАЦИЯНАЭКСПОРТ" ) <> "C" )	_1С_ДОГОВОРЫ_РЕАЛИЗАЦИЯНАЭКСПОРТ = false;IF ( TYPE( "_1С_ДОГОВОРЫ_УЧЕТАГЕНТСКОГОНДС" ) <> "C" )	_1С_ДОГОВОРЫ_УЧЕТАГЕНТСКОГОНДС = false;IF ( TYPE( "_1С_ДОГОВОРЫ_УСТАНОВЛЕНСРОКОПЛАТЫ" ) <> "C" )	_1С_ДОГОВОРЫ_УСТАНОВЛЕНСРОКОПЛАТЫ = false;IF ( TYPE( "_1С_ДОГОВОРЫ_СРОКОПЛАТЫ" ) <> "C" )	_1С_ДОГОВОРЫ_СРОКОПЛАТЫ = 0;IF ( TYPE( "_1С_ДОГОВОРЫ_НАИМЕНОВАНИЕДЛЯСЧЕТАФАКТУРЫНААВАНС" ) <> "C" )	_1С_ДОГОВОРЫ_НАИМЕНОВАНИЕДЛЯСЧЕТАФАКТУРЫНААВАНС = "";IF ( TYPE( "_1С_ДОГОВОРЫ_ПОРЯДОКРЕГИСТРАЦИИСЧЕТОВФАКТУРНААВАНСПОДОГОВОРУ" ) <> "C" )	_1С_ДОГОВОРЫ_ПОРЯДОКРЕГИСТРАЦИИСЧЕТОВФАКТУРНААВАНСПОДОГОВОРУ = "НаВсеАвансы";IF ( TYPE( "_1С_ДОГОВОРЫ_НАЛОГОВЫЙАГЕНТПООПЛАТЕ" ) <> "C" )	_1С_ДОГОВОРЫ_НАЛОГОВЫЙАГЕНТПООПЛАТЕ = false;	ТЕКСТЗАПРОСА = "SELECT s.code AS Ref, s.folder AS IsFolder, s.notavail AS DeletionMark,		(SELECT " + ЕСЛИ( СинхронизироватьПоИНН, "inn", "ex_code" ) + " FROM sprclient WHERE code= s.client) AS Owner, 		s.code AS code, 		s.name AS Description, 		(SELECT ex_code FROM sprcur WHERE code= s.cur) AS ВалютаВзаиморасчетов, 		s.note AS Комментарий,		CASE WHEN s.type = 2 THEN 'СПокупателем' ELSE CASE WHEN s.type = 3 THEN 'СПоставщиком' ELSE 'Прочее' END END AS ВидДоговора,		f.ex_code AS Организация, 		s.date AS Дата, s.ndok AS Номер, s.validity AS СрокДействия,		'" + _1С_ДОГОВОРЫ_ТИПЦЕН + "' 											AS ТипЦен,		'" + _1С_ДОГОВОРЫ_ВИДАГЕНТСКОГОДОГОВОРА + "' 							AS ВидАгентскогоДоговора,		'" + _1С_ДОГОВОРЫ_РАСЧЕТЫВУСЛОВНЫХЕДИНИЦАХ + "' 						AS РасчетыВУсловныхЕдиницах,		'" + _1С_ДОГОВОРЫ_РЕАЛИЗАЦИЯНАЭКСПОРТ+ "' 								AS РеализацияНаЭкспорт,		'" + _1С_ДОГОВОРЫ_УЧЕТАГЕНТСКОГОНДС + "' 								AS УчетАгентскогоНДС,		'" + _1С_ДОГОВОРЫ_УСТАНОВЛЕНСРОКОПЛАТЫ + "' 							AS УстановленСрокОплаты, 		'" + _1С_ДОГОВОРЫ_СРОКОПЛАТЫ + "'										AS СрокОплаты,		'" + _1С_ДОГОВОРЫ_НАИМЕНОВАНИЕДЛЯСЧЕТАФАКТУРЫНААВАНС + "' 				AS НаименованиеДляСчетаФактурыНаАванс,		'" + _1С_ДОГОВОРЫ_ПОРЯДОКРЕГИСТРАЦИИСЧЕТОВФАКТУРНААВАНСПОДОГОВОРУ + "' 	AS ПорядокРегистрацииСчетовФактурНаАвансПоДоговору,		'" + _1С_ДОГОВОРЫ_НАЛОГОВЫЙАГЕНТПООПЛАТЕ + "' 							AS НалоговыйАгентПоОплате FROM sprcontract s INNER JOIN sprfirm f ON s.firm = f.code " +ЕСЛИ( ВыгрузитьВсеСправочники, "", "WHERE " + ЕСЛИ( !ПУСТО( Фирма ), "f.code IN (" + Фирма_Список + ") AND", "") + "	DATEDIFF( day, s.edit_dat, '" + Период_min + "' ) <= 0 AND DATEDIFF( day, s.edit_dat, '" + Период_max + "' ) >= 0" );RETURN ТЕКСТЗАПРОСА;
