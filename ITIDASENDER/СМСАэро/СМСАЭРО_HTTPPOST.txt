Ответ = "";
IF (ПУСТО(ЗАГОЛОВКИ))
{
	Заголовки[0] = "Authorization: Basic " + ПЕРЕКОДИРОВАТЬ( СТРОКААВТОРИЗАЦИИ, "", "base64");
	Заголовки[1] = "";
}
ИмяФайлаЖурнала = ITIDASENDER.ФАЙЛЖУРНАЛА();	
try
{
	ТекстОшибки			= "Сервер " + АдресСервера + CHR( 13 ) + "вернул сообщение об ошибке: " + CHR( 13 );
	Соединение 			= HTTPCONNECT( АдресСервера, "", true, ИмяФайлаЖурнала );
	Ответ				= HTTPPOST( Соединение, Ресурс, ДанныеДляОтправки, "Заголовки" );
	IF ( !ITIDASENDER.СМСАЭРО_ПРОВЕРКАНАОШИБКИ( @Ответ ) ) THROW ( Ответ );
}
catch ( ТекстСообщения )
{
	HTTPCLOSE( Соединение );
	СООБЩЕНИЕ( ТекстСообщения );
	RETURN "";
}
HTTPCLOSE( Соединение );

Заголовки[0] = "";
Заголовки[1] = "";

RETURN Ответ;
